<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="小兔鲜儿官网，致力于打造全球最大的食品、生鲜电商购物平台。">
    <meta name="keywords" content="小兔鲜儿,食品,生鲜,服装,家电,电商,购物">
    <title>furniture</title>
    <link rel="shortcut icon" href="Group5.ico" type="image/x-icon">
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/index.css">
</head>

<body>
    <!-- 快捷导航 -->
    <div class="shortcut">
        <div class="wrapper">
            <ul>
                <li><a href="./登陆界面.html">log in</a></li>
                <li><a href="./注册界面.html">regiest</a></li>
                <li><a href="#" class="shopping_cart">shopping cart</a></li>
                <li><a href="#">help</a></li>
                <li><a href="#">online customer service</a></li>
            </ul>
        </div>
    </div>
    <!-- 头部 -->
    <div class="header wrapper">
        <div class="logo">
            <h1><a href="#"><img src="./images/Group5.png" alt="">小兔鲜儿</a></h1>
        </div>
        <div class="nav">
            <ul>
                <li><a href="./主界面.html">home</a></li>
                <li><a href="./旅游用品展览界面.html" target="_blank">traveling</a></li>
                <li><a href="#">food</a></li>
                <li><a href="./家具商品展览页面.html">furniture</a></li>
                <li><a href="./药品展览页面.html" target="_blank">medicine</a></li>
                <li><a href="https://github.com/SCNU-group28/OnlineShop" target="_blank">learn more</a></li>
            </ul>
        </div>
        <form action="http://search.jd.com/search">
            <div class="search">
                <button type="submit" class="search_img"></button>
                <input type="text" name="keywords" placeholder="have a search!">
            </div>
        </form>
        <div class="car">
            <span>2</span>
        </div>
    </div>

    <div class="banner">
        <div class="wrapper">
            <ul>
                <li><a href="#"><img class="slide" src="./images/banner_1.png" alt=""></a></li>
            </ul>
            <!-- <div class="aside">
                <ul>
                    <li><a href="#">生鲜<span>水果 蔬菜</span></a></li>
                    <li><a href="#">美食<span>面点 干果</span></a></li>
                    <li><a href="#">餐厨<span>数码产品</span></a></li>
                    <li><a href="#">电器<span>床品 四件套 被枕</span></a></li>
                    <li><a href="#">居家<span>奶粉 玩具  辅食</span></a></li>
                    <li><a href="#">洗护<span>洗发 洗护 美妆</span></a></li>
                    <li><a href="#">孕婴<span>奶粉  玩具</span></a></li>
                    <li><a href="#">服饰<span>女装 男装</span></a></li>
                    <li><a href="#">杂货<span>户外 图书</span></a></li>
                    <li><a href="#">品牌<span>品牌制造</span></a></li>
                </ul>
            </div> -->
            <div class="prev">
                <div class="button"></div>
            </div>
            <div class="next">
                <div class="button"></div>
            </div>
            <ol class="slide-indicator">
                <li></li>
                <li></li>
                <li class="current"></li>
                <li></li>
                <li></li>
            </ol>
        </div>
    </div>

    <div class="goods wrapper">
        <div class="hd">
            <div class="left">
                new goods<span>Fresh and reliable quality.</span>
            </div>
            <div class="right">
                look for more
            </div>
        </div>
        <div class="bd">
            <ul>
                <li>
                    <a href="./goodsDetials/Custom Whole House Cabinets.html" target="_blank"><img
                            src="./images/厨房家具.jpg" alt="">
                        <h3>Custom Whole House Cabinets</h3>
                        <span>￥2899</span>
                        <b>new</b>
                    </a>
                </li>
                <li>
                    <a href="./goodsDetials/Smart Surround 3D Air Conditioning.html" target="_blank"><img
                            src="./images/家具.jpg" alt="">
                        <h3>Smart Surround 3D Air Conditioning</h3>
                        <span>￥3299 </span>
                        <b>new</b>
                    </a>
                </li>
                <li>
                    <a href="./goodsDetials/Smart Curtains.html" target="_blank"><img src="./images/沐浴家具.jpg" alt="">
                        <h3>Smart Curtains</h3>
                        <span>￥1299</span>
                        <b>new</b>
                    </a>
                </li>
                <li>
                    <a href="./goodsDetials/High-Quality Luxury Red Wine Glass with Tall Stem.html" target="_blank"><img
                            src="./images/餐桌家具.jpg" alt="">
                        <h3>High-Quality Luxury Red Wine Glass with Tall Stem</h3>
                        <span>￥599</span>
                        <b>new</b>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <div class="vegetable wrapper">
        <div class="hd">
            <h2>kitchen</h2>
            <a href="#" class="more">look for more</a>
        </div>
        <div class="bd">
            <div class="left"><img src="./images/home_goods_cover.jpg" alt=""></div>
            <div class="right">
                <ul>
                    <li>
                        <a href="./goodsDetials/维达.html" target="_blank">
                            <img src="./uploads/vida.jpg" alt="">
                            <p>维达纸巾</p>
                            <span class="price"><span>￥</span><b>59</b></span>
                        </a>
                    </li>
                    <li>
                        <a href="./goodsDetials/维达.html" target="_blank">
                            <img src="./uploads/vida.jpg" alt="">
                            <p>维达纸巾</p>
                            <span class="price"><span>￥</span><b>59</b></span>
                        </a>
                    </li>
                    <li>
                        <a href="./goodsDetials/维达.html" target="_blank">
                            <img src="./uploads/vida.jpg" alt="">
                            <p>维达纸巾</p>
                            <span class="price"><span>￥</span><b>59</b></span>
                        </a>
                    </li>
                    <li>
                        <a href="./goodsDetials/维达.html" target="_blank">
                            <img src="./uploads/vida.jpg" alt="">
                            <p>维达纸巾</p>
                            <span class="price"><span>￥</span><b>59</b></span>
                        </a>
                    </li>
                    <li>
                        <a href="./goodsDetials/维达.html" target="_blank">
                            <img src="./uploads/vida.jpg" alt="">
                            <p>维达纸巾</p>
                            <span class="price"><span>￥</span><b>59</b></span>
                        </a>
                    </li>
                    <li>
                        <a href="./goodsDetials/维达.html" target="_blank">
                            <img src="./uploads/vida.jpg" alt="">
                            <p>维达纸巾</p>
                            <span class="price"><span>￥</span><b>59</b></span>
                        </a>
                    </li>
                    <li>
                        <a href="./goodsDetials/维达.html" target="_blank">
                            <img src="./uploads/vida.jpg" alt="">
                            <p>维达纸巾</p>
                            <span class="price"><span>￥</span><b>59</b></span>
                        </a>
                    </li>
                    <li>
                        <a href="./goodsDetials/维达.html" target="_blank">
                            <img src="./uploads/vida.jpg" alt="">
                            <p>维达纸巾</p>
                            <span class="price"><span>￥</span><b>59</b></span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 版权 -->
    <div class="footer">
        <div class="wrapper">
            <div class="top">
                <ul>
                    <li><span class="first"></span>
                        <p>lower prices</p>
                    </li>
                    <li><span class="second"></span>
                        <p>faster distribution</p>
                    </li>
                    <li><span class="third"></span>
                        <p>higher quality</p>
                    </li>
                </ul>
            </div>
            <div class="bottom">
                <div class="link">
                    <ul>

                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- 这个是遮罩层，暂时来说我得让它的可见度为0 -->
    <div id="pop-content" class="pop-window">
        <h2>My shopping_cart</h2>
        <ul class="shopping_cart_list">

        </ul>
    </div>
    <div class="mask" id="mask"></div>

    <script>
        let picture_obj_list = [
            { src: "./images/厨房家具.jpg" },
            { src: "./images/家具.jpg" },
            { src: "./images/沐浴家具.jpg" },
            { src: "./images/餐桌家具.jpg" },
            { src: "./images/banner_1.png" }
        ]
        localStorage.setItem("picture_obj_list", JSON.stringify(picture_obj_list))
        const prev = document.querySelector(".prev")
        const next = document.querySelector(".next")
        const slide = document.querySelector(".slide")
        //先声明让数组的索引值为0
        let i = 0
        let slideInterval = setInterval(function () {
            i++
            if (i >= 5) {
                i = 0
            }
            slide.src = picture_obj_list[i].src
            document.querySelector(".slide-indicator .current").classList.remove("current")
            document.querySelector(`.slide-indicator li:nth-child(${i + 1})`).classList.add("current")
        }, 3000)

        prev.addEventListener("click", function (event) {
            i--
            if (i <= -1) {
                i = 4
            }
            slide.src = picture_obj_list[i].src
            document.querySelector(".slide-indicator .current").classList.remove("current")
            document.querySelector(`.slide-indicator li:nth-child(${i + 1})`).classList.add("current")
        })

        next.addEventListener("click", function (event) {
            i++
            if (i >= 5) {
                i = 0
            }
            slide.src = picture_obj_list[i].src
            document.querySelector(".slide-indicator .current").classList.remove("current")
            document.querySelector(`.slide-indicator li:nth-child(${i + 1})`).classList.add("current")
        })

        ////////////////////////////////////////////////////////////////////////////
        //从这里开始变成购物车
        const goodsArray = JSON.parse(localStorage.getItem("goods_information")) || [];

        const shopping_cart = document.querySelector(".shopping_cart")
        const mask = document.querySelector(".mask")
        const pop_window = document.querySelector(".pop-window")
        const shopping_cart_list = document.querySelector(".shopping_cart_list")
        shopping_cart.addEventListener("click", function () {
            mask.style.display = "block"
            pop_window.style.display = "block"
            printGoodsOut()
        })
        mask.addEventListener("click", function () {
            pop_window.style.display = 'none';
            mask.style.display = 'none';
        })

        // 确保title和price元素存在且有innerHTML属性
        const button = document.querySelector(".cart");
        const title = document.querySelector(".title");
        const price = document.querySelector(".price");


        //打印goodsArray的所有商品
        function printGoodsOut() {
            shopping_cart_list.innerHTML = ""
            console.log(goodsArray)
            for (let i = 0; i < goodsArray.length; i++) {
                const li = document.createElement("li")
                li.innerHTML = `
            <h2>${goodsArray[i].name}</h2>
            <h3>${goodsArray[i].price}</h3>
            <button class="Delect" data-id = ${i}>Delect</button>
            <hr>
            `
                shopping_cart_list.appendChild(li)
            }
        }

        const delect = document.querySelector(".Delect")
        shopping_cart_list.addEventListener("click", function (event) {
            // 这里是为了判断点击的是不是button按钮
            if (event.target.tagName === "BUTTON") {
                goodsArray.splice(event.target.dataset.id, 1)
                printGoodsOut()
                localStorage.setItem("goods_information", JSON.stringify(goodsArray))
            }
        })
    </script>
</body>

</html>